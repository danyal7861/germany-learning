<%- include('partials/header') %>

<header>
    <h1>Accessibility Settings</h1>
</header>

<main>
    <section>
        <h2>Our Commitment to Accessibility</h2>
        <p>We are committed to ensuring that our website is accessible to everyone. We believe that all users should have equal access to information and functionality.</p>
        <p>This page allows you to customize your experience based on your specific needs. Your preferences will be saved for future visits. If you have any suggestions or encounter any issues with our website's accessibility, please contact us.</p>
    </section>

    <section>
        <h2>Customize Your Experience</h2>
        <div class="settings-container">
            <div class="setting-card">
                <h3>Display Options</h3>
                <div class="toggle-container">
                    <span>Dark Mode</span>
                    <label class="toggle">
                        <input type="checkbox" id="darkMode">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="toggle-container">
                    <span>High Contrast</span>
                    <label class="toggle">
                        <input type="checkbox" id="highContrast">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div class="setting-card">
                <h3>Text Options</h3>
                <div class="toggle-container">
                    <span>Larger Text</span>
                    <label class="toggle">
                        <input type="checkbox" id="largeText">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="toggle-container">
                    <span>Dyslexia-Friendly Font</span>
                    <label class="toggle">
                        <input type="checkbox" id="dyslexicFont">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div class="setting-card">
                <h3>Motion & Animation</h3>
                <div class="toggle-container">
                    <span>Reduce Motion</span>
                    <label class="toggle">
                        <input type="checkbox" id="reduceMotion">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="toggle-container">
                    <span>Pause Animations</span>
                    <label class="toggle">
                        <input type="checkbox" id="pauseAnimations">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div class="setting-card">
                <h3>Navigation & Interaction</h3>
                <div class="toggle-container">
                    <span>Keyboard Navigation Focus</span>
                    <label class="toggle">
                        <input type="checkbox" id="keyboardFocus">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="toggle-container">
                    <span>Extended Time for Interactions</span>
                    <label class="toggle">
                        <input type="checkbox" id="extendedTime">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </div>
        <button class="save-btn" id="saveSettings">Save Preferences</button>
    </section>

    <section class="resources">
        <h2>Accessibility Resources</h2>
        <p>We've compiled some helpful resources about web accessibility:</p>
        <ul>
            <li><a href="https://www.w3.org/WAI/standards-guidelines/wcag/" target="_blank">Web Content Accessibility Guidelines (WCAG)</a></li>
            <li><a href="https://www.w3.org/WAI/fundamentals/accessibility-intro/" target="_blank">Introduction to Web Accessibility</a></li>
            <li><a href="https://webaim.org/projects/screenreadersurvey9/" target="_blank">Screen Reader Basics</a></li>
            <li><a href="https://www.w3.org/WAI/perspective-videos/keyboard/" target="_blank">Keyboard Navigation Guide</a></li>
        </ul>
        <p>If you need further assistance or have specific accessibility needs not addressed by our current settings, please contact our support team at <a href="mailto:Rolsa@gmail.com">accessibility@example.com</a>.</p>
    </section>
</main>

<footer>
    <p>&copy; 2025 Rolsa Technology. All rights reserved.</p>
</footer>

<script>
// Load saved preferences when the page loads
document.addEventListener('DOMContentLoaded', function() {
    console.log("DOM loaded, checking saved accessibility settings");
    
    // Check for saved settings
    const savedSettings = JSON.parse(localStorage.getItem('accessibilitySettings') || '{}');
    console.log("Saved settings:", savedSettings);
    
    // Apply saved settings to checkboxes
    if (document.getElementById('darkMode')) {
        document.getElementById('darkMode').checked = !!savedSettings.darkMode;
        if (savedSettings.darkMode) document.body.classList.add('dark-mode');
    }
    
    if (document.getElementById('highContrast')) {
        document.getElementById('highContrast').checked = !!savedSettings.highContrast;
        if (savedSettings.highContrast) document.body.classList.add('high-contrast');
    }
    
    if (document.getElementById('largeText')) {
        document.getElementById('largeText').checked = !!savedSettings.largeText;
        if (savedSettings.largeText) document.body.classList.add('large-text');
    }
    
    if (document.getElementById('dyslexicFont')) {
        document.getElementById('dyslexicFont').checked = !!savedSettings.dyslexicFont;
        if (savedSettings.dyslexicFont) document.body.classList.add('dyslexic-font');
    }
    
    if (document.getElementById('reduceMotion')) {
        document.getElementById('reduceMotion').checked = !!savedSettings.reduceMotion;
        if (savedSettings.reduceMotion) document.body.classList.add('reduced-motion');
    }
    
    if (document.getElementById('pauseAnimations')) {
        document.getElementById('pauseAnimations').checked = !!savedSettings.pauseAnimations;
        // Implementation for pausing animations would go here
    }
    
    if (document.getElementById('keyboardFocus')) {
        document.getElementById('keyboardFocus').checked = !!savedSettings.keyboardFocus;
        // Implementation for enhanced keyboard focus would go here
    }
    
    if (document.getElementById('extendedTime')) {
        document.getElementById('extendedTime').checked = !!savedSettings.extendedTime;
        // Implementation for extended time interactions would go here
    }
});

// Set up toggle event listeners once the DOM is fully loaded
document.addEventListener('DOMContentLoaded', function() {
    console.log("Setting up toggle event listeners");
    
    // Toggle settings
    if (document.getElementById('darkMode')) {
        document.getElementById('darkMode').addEventListener('change', function() {
            document.body.classList.toggle('dark-mode');
            console.log('Dark mode toggled:', this.checked);
        });
    }

    if (document.getElementById('highContrast')) {
        document.getElementById('highContrast').addEventListener('change', function() {
            document.body.classList.toggle('high-contrast');
            console.log('High contrast toggled:', this.checked);
        });
    }

    if (document.getElementById('largeText')) {
        document.getElementById('largeText').addEventListener('change', function() {
            document.body.classList.toggle('large-text');
            console.log('Large text toggled:', this.checked);
        });
    }

    if (document.getElementById('dyslexicFont')) {
        document.getElementById('dyslexicFont').addEventListener('change', function() {
            document.body.classList.toggle('dyslexic-font');
            console.log('Dyslexic font toggled:', this.checked);
        });
    }

    if (document.getElementById('reduceMotion')) {
        document.getElementById('reduceMotion').addEventListener('change', function() {
            document.body.classList.toggle('reduced-motion');
            console.log('Reduced motion toggled:', this.checked);
        });
    }

    // Save settings button
    const saveButton = document.getElementById('saveSettings');
    if (saveButton) {
        saveButton.addEventListener('click', function() {
            console.log("Save button clicked");
            
            const settings = {
                darkMode: document.getElementById('darkMode')?.checked || false,
                highContrast: document.getElementById('highContrast')?.checked || false,
                largeText: document.getElementById('largeText')?.checked || false,
                dyslexicFont: document.getElementById('dyslexicFont')?.checked || false,
                reduceMotion: document.getElementById('reduceMotion')?.checked || false,
                pauseAnimations: document.getElementById('pauseAnimations')?.checked || false,
                keyboardFocus: document.getElementById('keyboardFocus')?.checked || false,
                extendedTime: document.getElementById('extendedTime')?.checked || false
            };
            
            console.log("Saving settings:", settings);
            localStorage.setItem('accessibilitySettings', JSON.stringify(settings));
            
            // Show confirmation message
            alert('Your accessibility preferences have been saved!');
        });
    } else {
        console.warn("Save button not found!");
    }
});
</script>

<%- include('partials/footer') %>